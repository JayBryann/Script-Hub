-- settings

local mutePrints = false

-- functionality

local pr = print

local function print(arg)
if not mutePrints then
pr(arg)
end
end

local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local diedEvent
local diedpos

local function died()
diedEvent:Disconnect()
diedEvent = char:WaitForChild("Humanoid").Died:Connect(died)
diedpos = char:WaitForChild("HumanoidRootPart").CFrame
end

local function characterAdded()
if diedpos then
char = player.Character or player.CharacterAdded:Wait()
print("teleporting to "..tostring(diedpos))
char:WaitForChild("HumanoidRootPart").CFrame = diedpos
diedEvent = char:WaitForChild("Humanoid").Died:Connect(died)
end
end

diedEvent = char:WaitForChild("Humanoid").Died:Connect(died)
player.CharacterAdded:Connect(characterAdded)
