_G.loop = false

while _G.loop do
   local startertools = {}
local autosavetools = true
local toolstosave = {}

for _,v in pairs(game.StarterPack:GetChildren()) do
if (v:IsA("Tool")) then
table.insert(startertools,(#startertools+1),v.Name)
end
end
 
game:GetService('RunService').Stepped:connect(function()

if autosavetools == true and game.Players.LocalPlayer.Character.Humanoid.Health == 0 then
for _,v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
if (v:IsA("Tool")) then
v.Parent = game.Players.LocalPlayer.Backpack
end
end
wait(0.1)
for _,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
for i=1,#startertools do
if (v:IsA("Tool")) and v.Name == startertools[i] then
v:Destroy()
end
end
end

wait(0.01)
for _,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
if (v:IsA("Tool")) then
v.Parent = game.Players.LocalPlayer
end
end
end


if autosavetools == true then
StoringButton.Text = "Storing"
else
StoringButton.Text = "Not Storing"
end

end)

game.Players.LocalPlayer.CharacterAdded:connect(function()
wait(0.6)
if autosavetools == true then
for _,v in pairs(game.Players.LocalPlayer:GetChildren()) do
if (v:IsA("Tool")) then
v.Parent = game.Players.LocalPlayer.Backpack
end
end
end

end)
   wait() -- delay to prevent crashing
end
